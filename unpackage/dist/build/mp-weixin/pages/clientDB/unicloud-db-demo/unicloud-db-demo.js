(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/clientDB/unicloud-db-demo/unicloud-db-demo"],{"1fcd":function(e,n,t){"use strict";(function(e){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o,r=a(t("a34a"));function a(e){return e&&e.__esModule?e:{default:e}}function u(e,n,t,o,r,a,u){try{var c=e[a](u),i=c.value}catch(d){return void t(d)}c.done?n(i):Promise.resolve(i).then(o,r)}function c(e){return function(){var n=this,t=arguments;return new Promise((function(o,r){var a=e.apply(n,t);function c(e){u(a,o,r,c,i,"next",e)}function i(e){u(a,o,r,c,i,"throw",e)}c(void 0)}))}}var i=function(){t.e("components/show-code/show-code").then(function(){return resolve(t("aa95"))}.bind(null,t)).catch(t.oe)},d={components:{showCode:i},data:function(){return{options:{a:"123"},collection:"order",fields:["book_id","create_date","quantity"],field:["book_id","create_date","quantity"],pageData:"replace",pageDataList:[{text:"add",value:"add"},{text:"replace",value:"replace"}],pageSize:2,orderbyArr:[],orderbyObj:{},orderby:"",getone:!1,pageCurrent:1,getcount:!0}},mounted:function(){o=this.$refs.udb},watch:{field:function(n,t){0===n.length&&e.showModal({title:"当前field为空",content:"即表示显示所有字段",showCancel:!1,confirmText:"知道了"})},pageData:function(e){"add"==e&&this.$nextTick((function(){o.loadData({clear:!0})}))},getone:function(){o.loadData({clear:!0})}},methods:{changePageCurrent:function(e){e/1>0&&(this.pageCurrent=e)},setOrderby:function(n){var t=this;return c(r.default.mark((function o(){var a,u,i,d,l;return r.default.wrap((function(o){while(1)switch(o.prev=o.next){case 0:if(a=n.detail.value,u=Object.keys(t.orderbyObj),!(u.length>a.length)){o.next=6;break}for(i in t.orderbyObj)a.includes(i)||delete t.orderbyObj[i];o.next=8;break;case 6:return o.next=8,new Promise((function(n){a.forEach(function(){var o=c(r.default.mark((function o(a){var c;return r.default.wrap((function(o){while(1)switch(o.prev=o.next){case 0:t.orderbyObj[a]||(c=["asc","desc"],e.showActionSheet({itemList:c,success:function(e){var n=e.tapIndex;console.log(n),t.orderbyObj[a]=c[n]},fail:function(e){t.orderbyArr=u},complete:function(){n()}}));case 1:case"end":return o.stop()}}),o)})));return function(e){return o.apply(this,arguments)}}())}));case 8:for(l in d="",t.orderbyObj)d+=l+" "+t.orderbyObj[l]+",";d=d.slice(0,d.length-1),console.log("orderby",d),t.orderby=d;case 13:case"end":return o.stop()}}),o)})))()},mArrJson:function(e){var n=[];return e.forEach((function(e){n.push({text:e,value:e})})),n},add:function(){o.add({book_id:"add-test",quantity:Date.now()})},remove:function(){var e=o.dataList[0]._id;o.remove(e)},update:function(){var e=o.dataList[0]._id;o.update(e,{book_id:"这条数据被改"})},getFn:function(){o.loadData()},linkGetFn:function(){}}};n.default=d}).call(this,t("543d")["default"])},"39a1":function(e,n,t){},"4a35":function(e,n,t){"use strict";t.d(n,"b",(function(){return r})),t.d(n,"c",(function(){return a})),t.d(n,"a",(function(){return o}));var o={unicloudDb:function(){return Promise.all([t.e("common/vendor"),t.e("node-modules/@dcloudio/uni-cli-shared/components/unicloud-db")]).then(t.bind(null,"960d"))},uniDataCheckbox:function(){return Promise.all([t.e("common/vendor"),t.e("components/uni-data-checkbox/uni-data-checkbox")]).then(t.bind(null,"448a"))},uniNumberBox:function(){return t.e("components/uni-number-box/uni-number-box").then(t.bind(null,"e9ca"))}},r=function(){var e=this,n=e.$createElement,t=(e._self._c,e.field.join(",")),o=e.getone?null:e.mArrJson(e.fields),r=e.mArrJson(e.fields);e._isMounted||(e.e0=function(n){e.getone=n.detail.value},e.e1=function(n){return e.$refs.udb.loadMore()},e.e2=function(n){n/1>0&&(e.pageSize=n/1)},e.e3=function(n){e.getcount=n.detail.value}),e.$mp.data=Object.assign({},{$root:{g0:t,m0:o,m1:r}})},a=[]},"618e":function(e,n,t){"use strict";t.r(n);var o=t("1fcd"),r=t.n(o);for(var a in o)"default"!==a&&function(e){t.d(n,e,(function(){return o[e]}))}(a);n["default"]=r.a},8871:function(e,n,t){"use strict";t.r(n);var o=t("4a35"),r=t("618e");for(var a in r)"default"!==a&&function(e){t.d(n,e,(function(){return r[e]}))}(a);t("e88d");var u,c=t("f0c5"),i=Object(c["a"])(r["default"],o["b"],o["c"],!1,null,"24f1ee09",null,!1,o["a"],u);n["default"]=i.exports},cb50:function(e,n,t){"use strict";(function(e){t("ef00");o(t("66fd"));var n=o(t("8871"));function o(e){return e&&e.__esModule?e:{default:e}}e(n.default)}).call(this,t("543d")["createPage"])},e88d:function(e,n,t){"use strict";var o=t("39a1"),r=t.n(o);r.a}},[["cb50","common/runtime","common/vendor"]]]);